{"version":3,"sources":["console.js"],"names":["$","document","ready","analyNum","length","getJSON","data","each","index","value","html","nums","dataSet","label","color","plot","options","outputChecking","display","$tbody","eq","$tr","addClass","attr","appendTo","text","categorys","$btn_group","$btn_dropdown","data-toggle","aria-haspopup","aria-expanded","$btn_ul","$li_0","$li_1","$li_2","checkingBtn","outofCheck","$btn1","css","text-decoration","unbind","on","e","preventDefault","data_href","this","data_id","closest","data_classify","post","judge","id","classify","conclusion","front","back","blog","other","$wrap","not","click","$that","url","load","find","parent","series","pie","show","radius","formatter","Math","round","percent","background","opacity","legend","grid","hoverable","bind","event","pos","item","datapoint","top","pageY","left","pageX","fadeIn","empty"],"mappings":"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","file":"console.js","sourcesContent":["/* \n * @Author: darkless\n * @Date:   2016-03-02 14:47:42\n * @Last Modified by:   darkless\n * @Last Modified time: 2016-03-14 21:44:57\n */\n\n$(document).ready(function() {\n    var categorys = {\n        'front': '前端',\n        'back': '后台',\n        'blog': '博客',\n        'other': '其他'\n    }\n    analyNum();\n    var $wrap = $('.page-wrap');\n    //页面载入后\n    $('.side-nav li a').not('.exit, .index').click(function(e) {\n        e.preventDefault();\n        var $that = $(this)\n        var url = $that.attr('href');\n        $wrap.load(url, function() {\n            $('.side-nav').find('li').attr('class', '');\n            $that.parent().addClass('active');\n            if($('.checking-site').length > 0) {\n                outputChecking();\n                outofCheck();\n            }\n        })\n    })\n\n    //统计图表\n    var options = {\n        series: {\n            pie: {\n                show: true,\n                label: {\n                    show: true,\n                    radius: 180,\n                    formatter: function(label, series) {\n                        return '<div style=\"border:1px solid grey;font-size:8pt;text-align:center;padding:5px;color:white;\">' +\n                            label + ' : ' +\n                            Math.round(series.percent) +\n                            '%</div>';\n                    },\n                    background: {\n                        opacity: 0.8,\n                        color: '#000'\n                    }\n                }\n            }\n        },\n        legend: {\n            show: true\n        },\n        grid: {\n            hoverable: true\n        }\n    };\n\n    function analyNum() {\n        if($('.flot-chart').length > 0) {\n            $.getJSON('../script/analysis.php', function(data) {\n                $.each($('.huge'), function(index, value) {\n                    $(value).html(data.nums[index]);\n                })\n                var dataSet = [{\n                    label: '前端类',\n                    data: data.nums[0],\n                    color: \"#4f93ce\"\n                }, {\n                    label: '后台类',\n                    data: data.nums[1],\n                    color: \"#6ec06e\"\n                }, {\n                    label: '博客类',\n                    data: data.nums[2],\n                    color: \"#f0ad4e\"\n                }, {\n                    label: '其他',\n                    data: data.nums[3],\n                    color: \"#9966cc\"\n                }];\n\n                $.plot($(\"#flot-chart-pie\"), dataSet, options);\n\n            })\n        }\n    }\n\n    $(\"#flot-chart-pie\").bind(\"plothover\", function(event, pos, item) {\n        if(item) {\n            $(\"#chart-tooltips\").html(item.series.label + \" : \" + item.datapoint[1][0][1] + \"个\")\n                .css({\n                    top: item.pageY + 8,\n                    left: item.pageX + 8\n                })\n                .fadeIn(200);\n        } else {\n            $(\"#chart-tooltips\").empty();\n        }\n    });\n\n    //输出checking表\n    function outputChecking() {\n        $.getJSON('../script/display.php', {\n            'display': 'checking'\n        }, function(data) {\n            var $tbody = $('.checking-site').eq(0);\n            $.each(data['checkings'], function(index, value) {\n                var $tr = $('<tr>').addClass(value['classify']).attr('id', value['id']).appendTo($tbody);\n                $('<td>').text(value['uptime']).appendTo($tr);\n                $('<td>').text(value['site']).appendTo($tr);\n                $('<td>').text(value['url']).appendTo($tr);\n                $('<td>').text(value['intro']).appendTo($tr);\n                $('<td>').text(value['email']).appendTo($tr);\n                $('<td>').text(categorys[value['classify']]).appendTo($tr);\n                //审核按钮\n                var $btn_group = $('<div>').addClass('btn-group').appendTo($tr);\n                // var $default_btn = $('<button>').addClass('btn btn-info').html('详情').appendTo($btn_group);\n                var $btn_dropdown = $('<button>').addClass('btn btn-primary dropdown-toggle').attr({\n                    'data-toggle': 'dropdown',\n                    'aria-haspopup': 'true',\n                    'aria-expanded': 'false'\n                }).html('审核').appendTo($btn_group);\n                $('<span>').addClass('caret').appendTo($btn_dropdown);\n                $('<span>').addClass('sr-only').html('Toggle Dropdown').appendTo($btn_dropdown);\n                var $btn_ul = $('<ul>').addClass('dropdown-menu').appendTo($btn_group);\n                var $li_0 = $('<li>').appendTo($btn_ul);\n                $('<a>').attr('href', '2').html('<i class=\"fa fa-archive\"></i>详情').appendTo($li_0);\n                var $li_1 = $('<li>').appendTo($btn_ul);\n                $('<a>').attr('href', '1').html('<i class=\"fa fa-check\"></i>通过').appendTo($li_1);\n                var $li_2 = $('<li>').appendTo($btn_ul);\n                $('<a>').attr('href', '0').html('<i class=\"fa fa-ban\"></i>不通过').appendTo($li_2);\n            });\n            checkingBtn();\n        })\n    }\n    //输出outofcheck表\n    function outofCheck() {\n        $.getJSON('../script/display.php', {\n            'display': 'checking'\n        }, function(data) {\n            var $tbody = $('.outofcheck-site').eq(0);\n            $.each(data['outofchecks'], function(index, value) {\n                var $tr = $('<tr>').addClass(value['classify']).attr('id', value['id']).appendTo($tbody);\n                $('<td>').text(value['uptime']).appendTo($tr);\n                $('<td>').text(value['site']).appendTo($tr);\n                $('<td>').text(value['url']).appendTo($tr);\n                $('<td>').text(value['intro']).appendTo($tr);\n                $('<td>').text(value['email']).appendTo($tr);\n                $('<td>').text(categorys[value['classify']]).appendTo($tr);\n                $('<td>').text(value['conclusion']).appendTo($tr);\n                var $btn1 = $('<button>').addClass('btn btn-info').appendTo($tr);\n                $('<a>').attr('href', '2').css({\n                    'color': '#fff',\n                    'text-decoration': 'none'\n                }).html('<i class=\"fa fa-angle-double-right\"></i>详细').appendTo($btn1);\n            });\n            checkingBtn();\n        })\n    }\n\n\n    function checkingBtn() {\n        $('.checking-site a, .outofcheck-site a').unbind('click').on('click',function(e){\n            e.preventDefault();\n            var data_href = $(this).attr('href');\n            var data_id = $(this).closest('tr').attr('id');\n            var data_classify = $(this).closest('tr').attr('class');\n            //通过\n            if(data_href == 1){\n                $.post('../script/handle.php', {'judge': data_href, 'id': data_id, 'classify': data_classify});\n            }\n            //未通过\n            if(data_href == 0){\n                $.post('../script/handle.php', {'judge': data_href, 'id': data_id, 'classify': data_classify, 'conclusion': '信息内容不完善'});\n            }\n            //详情\n            if(data_href == 2){\n                return false;\n            }\n        })\n    }\n\n\n})\n\n"],"sourceRoot":"/source/"}