{"version":3,"sources":["message.js"],"names":["$","document","ready","keydown","this","css","click","e","val","focus","attr","indexOf","preventDefault","ajaxSubmit","dataType","url","beforeSend","html","success","data","status","$current_page_num","parseInt","location","href","length"],"mappings":"AAAAA,EAAEC,UAAUC,MAAM,WASdF,EAAE,6CAA6CG,QAAQ,WACnDH,EAAEI,MAAMC,IAAI,mBAAoB,UAGpCL,EAAE,WAAWM,MAAM,SAASC,GACxB,MAA0B,IAAvBP,EAAE,YAAYQ,OACbR,EAAE,YAAYS,QAAQJ,IAAI,mBAAoB,YACvC,GAEgB,IAAxBL,EAAE,aAAaQ,OACdR,EAAE,aAAaS,QAAQJ,IAAI,mBAAoB,WAAWK,KAAK,cAAe,UACvE,GAEa,IAArBV,EAAE,UAAUQ,OAAeR,EAAE,UAAUQ,MAAMG,QAAQ,KAAO,GAC3DX,EAAE,UAAUS,QAAQJ,IAAI,mBAAoB,WAAWK,KAAK,cAAe,eACpE,IAEXH,EAAEK,qBACFZ,GAAE,YAAYa,YACVC,SAAU,OACVC,IAAK,sBACLC,WAAY,WACRhB,EAAE,WAAWiB,KAAK,eAEtBC,QAAS,SAASC,EAAMC,GACT,GAARD,GACCnB,EAAE,cAAciB,KAAK,mBAEd,GAARE,GACCnB,EAAE,cAAciB,KAAK,wCAQrCjB,EAAE,2BAA2BM,MAAM,SAASC,GACxC,GAAIc,GAAoBC,SAAStB,EAAE,aAAaU,KAAK,MACrDH,GAAEK,iBACCS,EAAkB,EACjBE,SAASC,KAAK,oBAAoBH,EAAkB,GAEpDE,SAASC,KAAK,mBAAmBH,IAKzCrB,EAAE,uBAAuBM,MAAM,SAASC,GACpC,GAAIc,GAAoBC,SAAStB,EAAE,aAAaU,KAAK,MACrDH,GAAEK,iBACCS,EAAmBrB,EAAE,kBAAkByB,OAAO,EAC7CF,SAASC,KAAK,oBAAoBH,EAAkB,GAEpDE,SAASC,KAAK,mBAAmBH","file":"message.js","sourcesContent":["$(document).ready(function() {\n    // 留言显示\n    // \n    // $.get('./script/display.php?display=message', function(data, status){\n    //     console.log(data);\n    // });\n\n    // 留言提交\n    // \n    $('input.form-control, textarea.form-control').keydown(function() {\n        $(this).css('background-color', '#fff');\n    })\n\n    $('#submit').click(function(e) {\n        if($('#content').val() == '') {\n            $('#content').focus().css('background-color', '#FAEBCC');\n            return false;\n        }\n        if($('#nickname').val() == '') {\n            $('#nickname').focus().css('background-color', '#FAEBCC').attr('placeholder', '请输入昵称');\n            return false;\n        }\n        if($('#email').val() == '' || $('#email').val().indexOf('@') < 0) {\n            $('#email').focus().css('background-color', '#FAEBCC').attr('placeholder', '请输入正确的邮箱地址');\n            return false;\n        }\n        e.preventDefault();\n        $('#message').ajaxSubmit({\n            dataType: 'json',\n            url: './script/handle.php',\n            beforeSend: function() {\n                $('#submit').html('loading...');\n            },\n            success: function(data, status) {\n                if(data == 1){\n                    $('#container').html('<h2>感谢你的留言</h2>');                    \n                }\n                if(data == 0){\n                    $('#container').html('<h2>非常抱歉，留言提交失败，请刷新页面重新提交</h2>')\n                }\n            }\n        })\n    })\n\n    //留言翻页\n    //\n    $('[aria-label=\"Previous\"]').click(function(e){\n        var $current_page_num = parseInt($('li.active').attr('id'));\n        e.preventDefault();\n        if($current_page_num>1){\n            location.href=\"./message.php?p=\"+($current_page_num-1);\n        } else{\n            location.href=\"./message.php?p=\"+$current_page_num;\n        }\n\n    })\n\n    $('[aria-label=\"Next\"]').click(function(e){\n        var $current_page_num = parseInt($('li.active').attr('id'));\n        e.preventDefault();\n        if($current_page_num<($('.pagination li').length-2)){\n            location.href=\"./message.php?p=\"+($current_page_num+1);            \n        } else{\n            location.href=\"./message.php?p=\"+$current_page_num;\n        }\n    })\n    \n\n})"],"sourceRoot":"/source/"}