{"version":3,"sources":["site.js"],"names":["$","el","$wrap","ajax","type","url","dataType","data","display","async","success","status","category","each","index","value","$oDiv","addClass","appendTo","$oDiv2","attr","i","$oDiv3","j","$oDiv4","id","tmp","data-id","data-toggle","data-target","data-title","data-intro","data-url","html","data-serial","find","on","mouseenter","this","mouseleave","removeClass","site_category","parents","c","href","eq","unbind","click","e","clearTimeout","timer","setTimeout","clicks","preventDefault","data_serial","window","open","jQuery"],"mappings":"CAMA,SAAUA,GACN,GAAIC,EACJC,OAAQF,EAAE,mBACVA,EAAEG,MACEC,KAAM,MACNC,IAAK,uBACLC,SAAU,OACVC,MAAOC,QAAW,QAClBC,OAAO,EACPC,QAAS,SAASH,EAAMI,GACpB,GAAIC,IAAY,QAAS,OAAQ,OAAQ,QACzCZ,GAAEa,KAAKN,EAAM,SAASO,EAAOC,GAGzB,IAAI,GAFAC,GAAQhB,EAAE,SAASiB,SAAS,QAAQC,SAAShB,OAC7CiB,EAASnB,EAAE,SAASiB,SAAS,sBAAsBG,KAAK,KAAM,SAASR,EAASE,IAAQI,SAASF,GAC7FK,EAAI,EAAO,EAAJA,EAAOA,IAElB,IAAI,GADAC,GAAStB,EAAE,SAASiB,SAAS,OAAOC,SAASC,GACzCI,EAAI,EAAO,EAAJA,EAAOA,IAAK,CACvB,GAAIC,GAASxB,EAAE,SAASiB,SAAS,iCAAiCG,MAC9DK,GAAW,EAAJJ,EAASE,IACjBL,SAASI,GACRI,EAAMF,EAAOJ,KAAK,KACtBpB,GAAE,UAAUoB,MACRO,UAAWZ,EAAMW,GAAS,GAC1BE,cAAe,QACfC,cAAe,aACfC,aAAcf,EAAMW,GAAW,KAC/BK,aAAchB,EAAMW,GAAY,MAChCM,WAAYjB,EAAMW,GAAU,MAC7BO,KAAKlB,EAAMW,GAAW,MAAGR,SAASM,GAG9BxB,EAAE,YAAYiB,SAAS,iDAAiDG,MACnFhB,KAAQ,SACR8B,cAAepB,IAChBmB,KAAK,QAAQf,SAASC,KAE7BnB,EAAE,eAAeiB,SAAS,UAC1BhB,EAAKD,EAAE,SAASmC,KAAK,gBAG7BnC,EAAEC,GAAImC,IACFC,WAAY,WACRrC,EAAEsC,MAAMrB,SAAS,wBAErBsB,WAAY,WACRvC,EAAEsC,MAAME,YAAY,0BAI5BxC,EAAEC,GAAIkC,KAAK,QAAQC,GAAG,QAAS,WAC3B,GAGIK,IAHazC,EAAE,eAAeiC,KAAK,0BAA4BjC,EAAEsC,MAAMlB,KAAK,eAG5DpB,EAAEsC,MAAMI,QAAQ,cAActB,KAAK,MACvD,IAAoB,SAAjBqB,EACC,GAAIE,GAAI,YACL,IAAoB,QAAjBF,EACN,GAAIE,GAAI,YACL,IAAoB,QAAjBF,EACN,GAAIE,GAAI,UAER,IAAIA,GAAI,MAEZ3C,GAAE,kBAAkBoB,KAAK,gBAAiBqB,GAAeR,KAAKU,GAC9D3C,EAAE,aAAaiC,KAAKjC,EAAEsC,MAAMlB,KAAK,aACjCpB,EAAE,eAAeoB,MACbwB,KAAQ5C,EAAEsC,MAAMlB,KAAK,YACrBK,GAAMzB,EAAEsC,MAAMlB,KAAK,aAEvBpB,EAAE,eAAeiC,KAAKjC,EAAEsC,MAAMlB,KAAK,gBAIvCpB,GAAE,eAAe6C,GAAG,GAAGC,OAAO,SAASC,MAAM,SAASC,GAElDC,aAAaC,EACb,IAAIA,GAAQC,WAAW,WACnBnD,EAAEG,MACEC,KAAM,OACNC,IAAK,sBACLC,SAAU,OACVC,MACIK,SAAYZ,EAAE,kBAAkBoB,KAAK,iBACrCK,GAAMzB,EAAE,eAAeoB,KAAK,MAC5BgC,OAAU,MAGnB,OAGPpD,EAAE,cAAcoC,IACZW,MAAO,SAASC,GACZA,EAAEK,gBACF,IAAIC,GAActD,EAAEsC,MAAMlB,KAAK,cAC/BmC,QAAOC,KAAK,yBAAyBF,OAG9CG","file":"site.js","sourcesContent":["/* \n * @Author: darkless\n * @Date:   2016-02-29 12:14:57\n * @Last Modified by:   darkless\n * @Last Modified time: 2016-03-15 23:22:21\n */\n(function($) {\n    var el //站点全局变量\n    $wrap = $('.carousel-inner');\n    $.ajax({\n        type: 'get',\n        url: './script/display.php',\n        dataType: 'json',\n        data: {'display': 'site'},\n        async: false, //关闭异步，用于给全局变量赋值\n        success: function(data, status) {\n            var category = ['front', 'back', 'blog', 'other'];\n            $.each(data, function(index, value) {\n                var $oDiv = $('<div>').addClass('item').appendTo($wrap);\n                var $oDiv2 = $('<div>').addClass('jumbotron clearfix').attr('id', 'index-'+category[index]).appendTo($oDiv);\n                for(var i = 0; i < 4; i++) {\n                    var $oDiv3 = $('<div>').addClass('row').appendTo($oDiv2);\n                    for(var j = 0; j < 6; j++) {\n                        var $oDiv4 = $('<div>').addClass('col-md-2 col-sm-4 text-center').attr({\n                            'id': (i * 6) + j\n                        }).appendTo($oDiv3);\n                        var tmp = $oDiv4.attr('id');\n                        $('<span>').attr({\n                            'data-id': value[tmp]['id'],\n                            'data-toggle': 'modal',\n                            'data-target': '#infoModal',\n                            'data-title': value[tmp]['site'],\n                            'data-intro': value[tmp]['intro'],\n                            'data-url': value[tmp]['url']\n                        }).html(value[tmp]['site']).appendTo($oDiv4);\n                    }\n                }\n                var $oButton = $('<button>').addClass('btn btn-primary btn-lg center-block load-more').attr({\n                    'type': 'button',\n                    'data-serial': index\n                }).html('加载更多').appendTo($oDiv2);\n            })\n            $('.item:first').addClass('active');\n            el = $('.item').find('.col-md-2');\n        }\n    })\n    $(el).on({\n        mouseenter: function() {\n            $(this).addClass('rubberBand animated');\n        },\n        mouseleave: function() {\n            $(this).removeClass('rubberBand animated')\n        }\n    })\n\n    $(el).find('span').on('click', function() {\n        var site_title = $('.site-title').html('<i class=\"fa fa-home\"> ' + $(this).attr('data-title'));\n        // console.log($(this).parents('.jumbotron'));\n        // return false;\n        var site_category = $(this).parents('.jumbotron').attr('id');\n        if(site_category == 'front') {\n            var c = '前端设计类';\n        } else if(site_category == 'back') {\n            var c = '后台开发类';\n        } else if(site_category == 'blog') {\n            var c = '博客类';\n        } else {\n            var c = '其他类别';\n        }\n        $('#site-category').attr('data-category', site_category).html(c);\n        $('.site-url').html($(this).attr('data-url'));\n        $('.site-visit').attr({\n            'href': $(this).attr('data-url'),\n            'id': $(this).attr('data-id')\n        });\n        $('.site-intro').html($(this).attr('data-intro'));\n    })\n\n    var timer;\n    $('.site-visit').eq(0).unbind('click').click(function(e) {\n        // e.preventDefault();\n        clearTimeout(timer);\n        var timer = setTimeout(function() {\n            $.ajax({\n                type: 'post',\n                url: './script/handle.php',\n                dataType: 'json',\n                data: {\n                    'category': $('#site-category').attr('data-category'),\n                    'id': $('.site-visit').attr('id'),\n                    'clicks': 1\n                }\n            })\n        }, 100);\n    })\n    \n    $('.load-more').on({\n        click: function(e){\n            e.preventDefault();\n            var data_serial = $(this).attr('data-serial');\n            window.open('./allsite.php?display='+data_serial);\n        }\n    })\n})(jQuery);\n\n"],"sourceRoot":"/source/"}